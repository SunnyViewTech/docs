"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7905],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>m});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=n.createContext({}),d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),c=d(a),h=i,m=c["".concat(s,".").concat(h)]||c[h]||u[h]||r;return a?n.createElement(m,l(l({ref:t},p),{},{components:a})):n.createElement(m,l({ref:t},p))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,l=new Array(r);l[0]=h;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[c]="string"==typeof e?e:i,l[1]=o;for(var d=2;d<r;d++)l[d]=a[d];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},6939:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var n=a(7462),i=(a(7294),a(3905));const r={sidebar_position:90,title:"SDK Guide",slug:"/sdk-guide"},l="Dollars Markerless MoCap SDK Guide",o={unversionedId:"Integration/sdk_guide",id:"Integration/sdk_guide",title:"SDK Guide",description:"Introduction",source:"@site/docs/Integration/sdk_guide.md",sourceDirName:"Integration",slug:"/sdk-guide",permalink:"/sdk-guide",draft:!1,tags:[],version:"current",sidebarPosition:90,frontMatter:{sidebar_position:90,title:"SDK Guide",slug:"/sdk-guide"},sidebar:"tutorialSidebar",previous:{title:"Start Using Dollars MoCap SDK",permalink:"/sdk"},next:{title:"FAQ",permalink:"/faq"}},s={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Data types",id:"data-types",level:2},{value:"Dollars.MoCapMode",id:"dollarsmocapmode",level:3},{value:"Dollars.DominantEye",id:"dollarsdominanteye",level:3},{value:"Sensitivity",id:"sensitivity",level:3},{value:"Strength",id:"strength",level:3},{value:"Classes",id:"classes",level:2},{value:"AvatarBody",id:"avatarbody",level:3},{value:"InitFilter(int sensitivity)",id:"initfilterint-sensitivity",level:4},{value:"SetMoCapMode(Dollars.MoCapMode mode)",id:"setmocapmodedollarsmocapmode-mode",level:4},{value:"SetSensitivity(int sensitivity)",id:"setsensitivityint-sensitivity",level:4},{value:"Calibrate()",id:"calibrate",level:4},{value:"ResetCalibration()",id:"resetcalibration",level:4},{value:"AvatarFace",id:"avatarface",level:3},{value:"Calibrate()",id:"calibrate-1",level:4},{value:"ResetCalibration()",id:"resetcalibration-1",level:4},{value:"SetStrength(float strength)",id:"setstrengthfloat-strength",level:4},{value:"SetDominantEye(Dollars.DominantEye eye)",id:"setdominanteyedollarsdominanteye-eye",level:4},{value:"How to Use",id:"how-to-use",level:2},{value:"Conventions",id:"conventions",level:3},{value:"Add Motion Capture to an Avatar",id:"add-motion-capture-to-an-avatar",level:3},{value:"Add Face Capture to an Avatar",id:"add-face-capture-to-an-avatar",level:3}],p={toc:d},c="wrapper";function u(e){let{components:t,...r}=e;return(0,i.kt)(c,(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"dollars-markerless-mocap-sdk-guide"},"Dollars Markerless MoCap SDK Guide"),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"This SDK is based on the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/homuler/MediaPipeUnityPlugin"},"MediaPipeUnityPlugin")," project and runs on Unity platforms other besides WebGL."),(0,i.kt)("h2",{id:"data-types"},"Data types"),(0,i.kt)("h3",{id:"dollarsmocapmode"},"Dollars.MoCapMode"),(0,i.kt)("p",null,"MoCap Mode"),(0,i.kt)("p",null,"Type: Enumeration\nValues: jump, flat, upperbody"),(0,i.kt)("h3",{id:"dollarsdominanteye"},"Dollars.DominantEye"),(0,i.kt)("p",null,"DominantEye in Facial Capture"),(0,i.kt)("p",null,"Type: Enumeration\nValues: none, left, right"),(0,i.kt)("h3",{id:"sensitivity"},"Sensitivity"),(0,i.kt)("p",null,"Sensitivity of Motion Capture"),(0,i.kt)("p",null,"Type: Integer\nValues: 1-5, 1 is the most stable, 5 is the most sensitive"),(0,i.kt)("h3",{id:"strength"},"Strength"),(0,i.kt)("p",null,"Strength of Facial Capture"),(0,i.kt)("p",null,"Type: Float\nValues: Unrestricted, but a range between 0.5 to 2 is recommended, 1 is the default"),(0,i.kt)("h2",{id:"classes"},"Classes"),(0,i.kt)("h3",{id:"avatarbody"},"AvatarBody"),(0,i.kt)("p",null,"Used for calculating skeletal data"),(0,i.kt)("h4",{id:"initfilterint-sensitivity"},"InitFilter(int sensitivity)"),(0,i.kt)("h4",{id:"setmocapmodedollarsmocapmode-mode"},"SetMoCapMode(Dollars.MoCapMode mode)"),(0,i.kt)("h4",{id:"setsensitivityint-sensitivity"},"SetSensitivity(int sensitivity)"),(0,i.kt)("h4",{id:"calibrate"},"Calibrate()"),(0,i.kt)("p",null,"Description:"),(0,i.kt)("p",null,"Based on the current output of MediaPipe, adjust the avatar to stand upright with both feet on the ground."),(0,i.kt)("p",null,"MediaPipe's human body will be tilted forward (see below), the degree of tilt varies depending on the camera parameters, the size of the person, etc."),(0,i.kt)("p",null,"Therefore, it is recommended to perform a calibration before starting in order to achieve better motion capture results."),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(1095).Z+"#center",width:"1540",height:"1368"})),(0,i.kt)("p",null,"Just relax and look ahead while calibrating."),(0,i.kt)("h4",{id:"resetcalibration"},"ResetCalibration()"),(0,i.kt)("p",null,"Description:"),(0,i.kt)("p",null,"Used to reset the calibration data, recommended to be called when changing cameras as well as video files."),(0,i.kt)("h3",{id:"avatarface"},"AvatarFace"),(0,i.kt)("p",null,"Used to get face capture data"),(0,i.kt)("h4",{id:"calibrate-1"},"Calibrate()"),(0,i.kt)("p",null,"Description:"),(0,i.kt)("p",null,"Use current face capture expression parameters as a baseline"),(0,i.kt)("h4",{id:"resetcalibration-1"},"ResetCalibration()"),(0,i.kt)("p",null,"Description:"),(0,i.kt)("p",null,"Used to reset the facial calibration data.\nRecommended to be called at the same time as AvatarBody.ResetCalibration()."),(0,i.kt)("h4",{id:"setstrengthfloat-strength"},"SetStrength(float strength)"),(0,i.kt)("p",null,"Description:"),(0,i.kt)("p",null,"Set the strength of facial capture"),(0,i.kt)("h4",{id:"setdominanteyedollarsdominanteye-eye"},"SetDominantEye(Dollars.DominantEye eye)"),(0,i.kt)("p",null,"Description:"),(0,i.kt)("p",null,"Set the dominant eye in facial capture"),(0,i.kt)("h2",{id:"how-to-use"},"How to Use"),(0,i.kt)("h3",{id:"conventions"},"Conventions"),(0,i.kt)("p",null,"Please call the functions below before starting mocap,"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"AvatarBody.InitFilter(5);")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"AvatarBody.SetMoCapMode(MoCapMode.jump);")),(0,i.kt)("p",null,"This will initialize the filter and set the motion capture mode, the order cannot be changed."),(0,i.kt)("p",null,"You can use MoCapManager.cs in the example project as a reference."),(0,i.kt)("p",null,"Additionally, ensure that MoCapManager.cs is executed before any motion capture-related code by specifying the execution order."),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(4468).Z,width:"1570",height:"957"})),(0,i.kt)("p",null,"Please keep the order in the screenshot above for motion capture related codes."),(0,i.kt)("h3",{id:"add-motion-capture-to-an-avatar"},"Add Motion Capture to an Avatar"),(0,i.kt)("p",null,"Set the model's Rig to Humanoid and ensure all bones are correctly configured"),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(2595).Z,width:"1870",height:"946"})),(0,i.kt)("p",null,"Add the model to the scene and attach a MoCapSrc component"),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(3984).Z,width:"1950",height:"1372"})),(0,i.kt)("p",null,"If the model is not in a TPose, adjust the bone angles to set the model into a TPose."),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(6390).Z,width:"2000",height:"775"})),(0,i.kt)("p",null,"In the MoCapSrc component, set the src variable to the MoCap object in the scene"),(0,i.kt)("p",null,"Done!"),(0,i.kt)("h3",{id:"add-face-capture-to-an-avatar"},"Add Face Capture to an Avatar"),(0,i.kt)("p",null,"Add the Face Cap Controller component to the avatar, and set its Fcr variable to the robotDAC under MoCap in the scene"),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(4301).Z,width:"2000",height:"561"})),(0,i.kt)("p",null,"Create a Face Capture Mapping file"),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(484).Z,width:"2000",height:"694"})),(0,i.kt)("p",null,"In the 'To' column of the Mapping file, fill in the names of the blendshapes corresponding to each facial capture expression, paying attention to case sensitivity."),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(7255).Z,width:"2000",height:"972"})),(0,i.kt)("p",null,"In the Skinned Mesh Renderers array of the Face Capture Controller, enter the avatars meshes with blendshapes."),(0,i.kt)("p",null,"In the Mapping array, fill in the mapping files"),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(3880).Z,width:"1210",height:"506"})),(0,i.kt)("p",null,"Notes:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"If there is no blendshape corresponding to a certain facial capture expression, leave the corresponding position in the mapping file empty."),(0,i.kt)("li",{parentName:"ul"},"The TongueOut column and those that follow in the mapping file can be ignored."),(0,i.kt)("li",{parentName:"ul"},"If you need to use the same facial capture expression to control multiple blendshapes, you can add the same mesh multiple times to the Skinned Mesh Renderers array and correspond them to different mappings."),(0,i.kt)("li",{parentName:"ul"},"The lengths and orders of the Skinned Mesh Renderers and Mappings arrays need to be the same.")))}u.isMDXComponent=!0},4468:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/execution-fae1ddec9b2a5949bc380a3eca3a86e7.png"},1095:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/mediapipe-245a706ed66a1b2bea536016a5a2ab36.png"},2595:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/sdk-spec1-0fc1e69146786bac14fc7e1c46cdafb0.png"},3984:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/sdk-spec2-88a86ad37017e594f259603b83c9dcae.png"},6390:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/sdk-spec3-18c24f427918ab7645cabeb636199c02.png"},4301:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/sdk-spec4-9cbaff59435b913d123798d46a4aa9b9.png"},484:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/sdk-spec5-e20d551aa6775a125bd628694d461a61.png"},7255:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/sdk-spec6-d7f3ec9454fd9e77a94efa8a4558f731.png"},3880:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/sdk-spec7-a0c30418e1e40e631469eb8eb6bfc2dd.png"}}]);
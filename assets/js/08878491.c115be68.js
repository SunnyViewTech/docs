"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1284],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>d});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},p=Object.keys(e);for(n=0;n<p.length;n++)r=p[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(n=0;n<p.length;n++)r=p[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),m=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},c=function(e){var t=m(e.components);return n.createElement(l.Provider,{value:t},e.children)},u="mdxType",s={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,p=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=m(r),f=a,d=u["".concat(l,".").concat(f)]||u[f]||s[f]||p;return r?n.createElement(d,o(o({ref:t},c),{},{components:r})):n.createElement(d,o({ref:t},c))}));function d(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var p=r.length,o=new Array(p);o[0]=f;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[u]="string"==typeof e?e:a,o[1]=i;for(var m=2;m<p;m++)o[m]=r[m];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},1461:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>s,frontMatter:()=>p,metadata:()=>i,toc:()=>m});var n=r(7462),a=(r(7294),r(3905));const p={sidebar_position:20,title:"VRM Facial Cap",slug:"/blender-vrm-facecap"},o="Real-time Facial Capture for VRM Files",i={unversionedId:"Integration/DCC Software/Blender/vrm-facecap",id:"Integration/DCC Software/Blender/vrm-facecap",title:"VRM Facial Cap",description:"Blender 3.0.0",source:"@site/docs/Integration/DCC Software/Blender/vrm-facecap.md",sourceDirName:"Integration/DCC Software/Blender",slug:"/blender-vrm-facecap",permalink:"/blender-vrm-facecap",draft:!1,tags:[],version:"current",sidebarPosition:20,frontMatter:{sidebar_position:20,title:"VRM Facial Cap",slug:"/blender-vrm-facecap"},sidebar:"tutorialSidebar",previous:{title:"Video Tutorials",permalink:"/blender"},next:{title:"iClone & CTA",permalink:"/iclone"}},l={},m=[{value:"Modifying the plug-in file",id:"modifying-the-plug-in-file",level:2},{value:"Confirming VRM Blend Shape Proxy",id:"confirming-vrm-blend-shape-proxy",level:2}],c={toc:m},u="wrapper";function s(e){let{components:t,...p}=e;return(0,a.kt)(u,(0,n.Z)({},c,p,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"real-time-facial-capture-for-vrm-files"},"Real-time Facial Capture for VRM Files"),(0,a.kt)("admonition",{title:"Version used in this article",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Blender 3.0.0"),(0,a.kt)("p",{parentName:"admonition"},"VRM Add-on for Blender 2.20.27\uff0c",(0,a.kt)("a",{parentName:"p",href:"https://vrm-addon-for-blender.info/en/"},"https://vrm-addon-for-blender.info/en/")),(0,a.kt)("p",{parentName:"admonition"},"VMC4B 1.1.0\uff0c",(0,a.kt)("a",{parentName:"p",href:"https://booth.pm/en/items/3432915"},"https://booth.pm/en/items/3432915"))),(0,a.kt)("p",null,"In Blender, real-time facial capture for VRM requires two steps: modifying the plug-in file and confirming the VRM Proxy, in addition to installing the plug-ins above."),(0,a.kt)("h2",{id:"modifying-the-plug-in-file"},"Modifying the plug-in file"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Find the directory where VMC4B is located.")),(0,a.kt)("p",null,"Usually it is in C:\\Users","\\","{username}\\AppData\\Roaming\\Blender Foundation\\Blender\\3.0\\scripts\\addons\\VMC4B."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Download config.py from ",(0,a.kt)("a",{parentName:"li",href:"https://kilimanjaro.dollarsmocap.com/config.py"},"here")," and overwrite the file with the same name in the core directory under VMC4B directory.")),(0,a.kt)("p",null,"The difference between the two is as follows, the left side is modified."),(0,a.kt)("p",null,(0,a.kt)("img",{src:r(6151).Z,width:"1399",height:"440"})),(0,a.kt)("h2",{id:"confirming-vrm-blend-shape-proxy"},"Confirming VRM Blend Shape Proxy"),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"You need a VRM model that supports Perfect Sync for facial capture.")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Import a VRM model and open the VRM plugin panel. In the Blend Shape Proxy column, find the blend shapes related to facial capture, and make sure the Name of each blend shape is of the following form.")),(0,a.kt)("p",null,"EyeBlinkLeft",(0,a.kt)("br",{parentName:"p"}),"\n","EyeLookDownLeft",(0,a.kt)("br",{parentName:"p"}),"\n","EyeLookInLeft",(0,a.kt)("br",{parentName:"p"}),"\n","EyeLookOutLeft",(0,a.kt)("br",{parentName:"p"}),"\n","EyeLookUpLeft",(0,a.kt)("br",{parentName:"p"}),"\n","EyeSquintLeft",(0,a.kt)("br",{parentName:"p"}),"\n","EyeWideLeft",(0,a.kt)("br",{parentName:"p"}),"\n","EyeBlinkRight",(0,a.kt)("br",{parentName:"p"}),"\n","EyeLookDownRight",(0,a.kt)("br",{parentName:"p"}),"\n","EyeLookInRight",(0,a.kt)("br",{parentName:"p"}),"\n","EyeLookOutRight",(0,a.kt)("br",{parentName:"p"}),"\n","EyeLookUpRight",(0,a.kt)("br",{parentName:"p"}),"\n","EyeSquintRight",(0,a.kt)("br",{parentName:"p"}),"\n","EyeWideRight",(0,a.kt)("br",{parentName:"p"}),"\n","JawForward",(0,a.kt)("br",{parentName:"p"}),"\n","JawLeft",(0,a.kt)("br",{parentName:"p"}),"\n","JawRight",(0,a.kt)("br",{parentName:"p"}),"\n","JawOpen",(0,a.kt)("br",{parentName:"p"}),"\n","MouthClose",(0,a.kt)("br",{parentName:"p"}),"\n","MouthFunnel",(0,a.kt)("br",{parentName:"p"}),"\n","MouthPucker",(0,a.kt)("br",{parentName:"p"}),"\n","MouthLeft",(0,a.kt)("br",{parentName:"p"}),"\n","MouthRight",(0,a.kt)("br",{parentName:"p"}),"\n","MouthSmileLeft",(0,a.kt)("br",{parentName:"p"}),"\n","MouthSmileRight",(0,a.kt)("br",{parentName:"p"}),"\n","MouthFrownLeft",(0,a.kt)("br",{parentName:"p"}),"\n","MouthFrownRight",(0,a.kt)("br",{parentName:"p"}),"\n","MouthDimpleLeft",(0,a.kt)("br",{parentName:"p"}),"\n","MouthDimpleRight",(0,a.kt)("br",{parentName:"p"}),"\n","MouthStretchLeft",(0,a.kt)("br",{parentName:"p"}),"\n","MouthStretchRight",(0,a.kt)("br",{parentName:"p"}),"\n","MouthRollLower",(0,a.kt)("br",{parentName:"p"}),"\n","MouthRollUpper",(0,a.kt)("br",{parentName:"p"}),"\n","MouthShrugLower",(0,a.kt)("br",{parentName:"p"}),"\n","MouthShrugUpper",(0,a.kt)("br",{parentName:"p"}),"\n","MouthPressLeft",(0,a.kt)("br",{parentName:"p"}),"\n","MouthPressRight",(0,a.kt)("br",{parentName:"p"}),"\n","MouthLowerDownLeft",(0,a.kt)("br",{parentName:"p"}),"\n","MouthLowerDownRight",(0,a.kt)("br",{parentName:"p"}),"\n","MouthUpperUpLeft",(0,a.kt)("br",{parentName:"p"}),"\n","MouthUpperUpRight",(0,a.kt)("br",{parentName:"p"}),"\n","BrowDownLeft",(0,a.kt)("br",{parentName:"p"}),"\n","BrowDownRight",(0,a.kt)("br",{parentName:"p"}),"\n","BrowInnerUp",(0,a.kt)("br",{parentName:"p"}),"\n","BrowOuterUpLeft",(0,a.kt)("br",{parentName:"p"}),"\n","BrowOuterUpRight",(0,a.kt)("br",{parentName:"p"}),"\n","CheekPuff",(0,a.kt)("br",{parentName:"p"}),"\n","CheekSquintLeft",(0,a.kt)("br",{parentName:"p"}),"\n","CheekSquintRight",(0,a.kt)("br",{parentName:"p"}),"\n","NoseSneerLeft",(0,a.kt)("br",{parentName:"p"}),"\n","NoseSneerRight",(0,a.kt)("br",{parentName:"p"}),"\n","TongueOut  "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"If not, make the change.")),(0,a.kt)("p",null,"For example this VRM file, ",(0,a.kt)("a",{parentName:"p",href:"https://hub.vroid.com/en/characters/4525722107349736/models/6119522983111913549"},"https://hub.vroid.com/en/characters/4525722107349736/models/6119522983111913549")),(0,a.kt)("p",null,(0,a.kt)("img",{src:r(2740).Z,width:"1572",height:"1008"})),(0,a.kt)("p",null,"Before,"),(0,a.kt)("p",null,(0,a.kt)("img",{src:r(5863).Z,width:"635",height:"441"})),(0,a.kt)("p",null,"After,"),(0,a.kt)("p",null,(0,a.kt)("img",{src:r(6199).Z,width:"642",height:"355"})),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"After all changes are made, export the VRM.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Load the new VRM and you can use VMC4B for facial capture.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"If the VRM Proxy is already in the above form, you can do facial capture directly."))),(0,a.kt)("p",null,"For example this VRM file, ",(0,a.kt)("a",{parentName:"p",href:"https://hub.vroid.com/characters/7173430845109381047/models/6304450858378362082"},"https://hub.vroid.com/characters/7173430845109381047/models/6304450858378362082")),(0,a.kt)("p",null,(0,a.kt)("img",{src:r(3002).Z,width:"1467",height:"958"})))}s.isMDXComponent=!0},6151:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/2024_01_23_10_07_00-config.py-c1248757d36ae09c661fad286e64cc76.png"},2740:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/2024_01_23_10_36_19-Blender-e78505620df7c5c0aac3b8d1760aa570.png"},5863:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/2024_01_23_10_44_00-Blender-3de5f0a997f2319257e4c8c1c3ec6940.png"},6199:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/2024_01_23_10_44_14-Blender-532fafe0268461988660a8b5ed8bab0d.png"},3002:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/2024_01_23_12_58_02-Blender-251fda057c423eed78ce4921c0956b96.png"}}]);